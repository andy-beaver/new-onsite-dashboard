---
// src/pages/charts.astro
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import ChartComponents from '../components/ChartComponents';
import NavBar from '../components/NavBar.astro';
import type { OnsiteData } from '../types';

// Import JSON data with type assertion
import onsiteDataImport from '../data/onsiteData.json';
const onsiteData = onsiteDataImport as unknown as OnsiteData;

const currentPage = 'charts'; // Define currentPage variable
const basePath = '/rto';
---

<Layout>
  <main class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-7xl">
    <header class="mb-8">
      <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center">
        <div>
          <h1 class="text-3xl sm:text-4xl font-bold bg-gradient-to-r from-primary-600 to-indigo-600 text-transparent bg-clip-text">
            Dashboard Charts
          </h1>
          <p class="text-gray-500 dark:text-gray-400 mt-2">
            Visual representation of onsite progress
          </p>
        </div>
        <a 
          href={`${basePath}/`}
          class="mt-4 sm:mt-0 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"
        >
          Back to Dashboard
        </a>
      </div>
    </header>

    <NavBar currentPage={currentPage} />

    <Card className="mb-8">
      <div class="text-gray-700 dark:text-gray-300">
        <ChartComponents data={onsiteData} client:load />
      </div>
    </Card>
  </main>
</Layout>

<!-- Theme toggle script moved to NavBar component -->