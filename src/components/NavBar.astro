---
// src/components/NavBar.astro
interface Props {
  currentPage: 'dashboard' | 'charts' | 'minimal';
}

const { currentPage } = Astro.props;
---

<nav class="bg-white dark:bg-transparent shadow-sm border-b border-gray-200 dark:border-gray-800 mb-8">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <div class="flex-shrink-0 flex items-center">
          <span class="text-xl font-bold text-primary-600 dark:text-primary-400 mr-4">Onsite</span>
        </div>
        <!-- Desktop Navigation -->
        <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
          <a 
            href="/" 
            class={`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${
              currentPage === 'dashboard' 
                ? 'border-primary-500 text-gray-900 dark:text-white' 
                : 'border-transparent text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600 hover:text-gray-700 dark:hover:text-gray-300'
            }`}
          >
            Dashboard
          </a>
          <a 
            href="/charts" 
            class={`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${
              currentPage === 'charts' 
                ? 'border-primary-500 text-gray-900 dark:text-white' 
                : 'border-transparent text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600 hover:text-gray-700 dark:hover:text-gray-300'
            }`}
          >
            Charts
          </a>
          <a 
            href="/minimal" 
            class={`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${
              currentPage === 'minimal' 
                ? 'border-primary-500 text-gray-900 dark:text-white' 
                : 'border-transparent text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600 hover:text-gray-700 dark:hover:text-gray-300'
            }`}
          >
            Minimal
          </a>
        </div>
      </div>

      <!-- Mobile Navigation -->
      <div class="sm:hidden flex items-center space-x-4">
        <a 
          href="/" 
          class={`text-sm font-medium ${
            currentPage === 'dashboard' 
              ? 'text-primary-600 dark:text-primary-400' 
              : 'text-gray-500 dark:text-gray-400'
          }`}
        >
          D
        </a>
        <a 
          href="/charts" 
          class={`text-sm font-medium ${
            currentPage === 'charts' 
              ? 'text-primary-600 dark:text-primary-400' 
              : 'text-gray-500 dark:text-gray-400'
          }`}
        >
          C
        </a>
        <a 
          href="/minimal" 
          class={`text-sm font-medium ${
            currentPage === 'minimal' 
              ? 'text-primary-600 dark:text-primary-400' 
              : 'text-gray-500 dark:text-gray-400'
          }`}
        >
          M
        </a>
      </div>

      <div class="flex items-center">
        <button
          id="theme-toggle"
          class="p-2 rounded-full bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 hidden dark:block text-gray-200"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
            />
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 block dark:hidden text-gray-700"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</nav>

<script>
  // Theme toggle functionality
  document.getElementById('theme-toggle')?.addEventListener('click', () => {
    if (document.documentElement.classList.contains('dark')) {
      localStorage.theme = 'light';
      document.documentElement.classList.remove('dark');
    } else {
      localStorage.theme = 'dark';
      document.documentElement.classList.add('dark');
    }
  });
</script>